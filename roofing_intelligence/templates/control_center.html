<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control Center | ROOFIO</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/dashboard.css') }}">
    <style>
        * { font-family: 'Inter', sans-serif; }
        body { margin: 0; background: #0f0f1a; color: white; min-height: 100vh; }

        .sidebar-item:hover { background: rgba(30, 64, 175, 0.1); }
        .sidebar-item.active { background: rgba(30, 64, 175, 0.2); border-left: 3px solid #1E40AF; }
        .form-card:hover { transform: translateY(-2px); box-shadow: 0 8px 25px rgba(0,0,0,0.3); }
        .genie-glow { box-shadow: 0 0 20px rgba(249, 115, 22, 0.3); }

        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #1a1a2e; }
        ::-webkit-scrollbar-thumb { background: #4a4a6a; border-radius: 3px; }

        .main-nav { background: #1a1a2e; border-bottom: 1px solid #2a2a4a; padding: 12px 24px; display: flex; align-items: center; justify-content: space-between; }
        .nav-brand { display: flex; align-items: center; gap: 8px; }
        .nav-brand-icon { width: 40px; height: 40px; background: linear-gradient(135deg, #2563eb, #7c3aed); border-radius: 10px; display: flex; align-items: center; justify-content: center; font-size: 20px; }
        .nav-brand-text { font-weight: 700; font-size: 18px; }
        .nav-links { display: flex; gap: 4px; }
        .nav-link { padding: 8px 16px; border-radius: 8px; color: #9ca3af; text-decoration: none; font-size: 14px; transition: all 0.2s; }
        .nav-link:hover { color: white; background: #2a2a4a; }
        .nav-link.active { background: #1E40AF; color: white; }
        .nav-right { display: flex; align-items: center; gap: 16px; }
        .project-select { background: #2a2a4a; border: 1px solid #3a3a5a; border-radius: 8px; padding: 8px 16px; color: white; font-size: 14px; }

        .content-wrapper { display: flex; height: calc(100vh - 60px); }

        /* Left Sidebar */
        .positions-sidebar { width: 260px; background: #1a1a2e; border-right: 1px solid #2a2a4a; display: flex; flex-direction: column; }
        .sidebar-search { padding: 16px; }
        .sidebar-search input { width: 100%; background: #2a2a4a; border: 1px solid #3a3a5a; border-radius: 8px; padding: 10px 12px 10px 36px; color: white; font-size: 13px; }
        .sidebar-search input:focus { outline: none; border-color: #1E40AF; }
        .sidebar-search-icon { position: absolute; left: 28px; top: 26px; color: #6b7280; }

        .sidebar-stats { padding: 0 16px 16px; display: grid; grid-template-columns: 1fr 1fr; gap: 8px; }
        .sidebar-stat { background: rgba(34, 197, 94, 0.1); padding: 10px; border-radius: 8px; text-align: center; }
        .sidebar-stat.warning { background: rgba(245, 158, 11, 0.1); }
        .sidebar-stat-value { font-size: 18px; font-weight: 700; color: #22c55e; }
        .sidebar-stat.warning .sidebar-stat-value { color: #f59e0b; }
        .sidebar-stat-label { font-size: 10px; color: #9ca3af; }

        .sidebar-content { flex: 1; overflow-y: auto; padding: 0 8px; }
        .sidebar-section-title { display: flex; align-items: center; gap: 8px; padding: 8px 12px; font-size: 11px; font-weight: 600; color: #6b7280; text-transform: uppercase; }
        .sidebar-fav-item { display: flex; align-items: center; gap: 10px; padding: 8px 12px; border-radius: 8px; cursor: pointer; font-size: 13px; color: #d1d5db; }
        .sidebar-fav-item:hover { background: rgba(30, 64, 175, 0.1); }

        .position-sidebar-item { display: flex; align-items: center; justify-content: space-between; padding: 10px 12px; border-radius: 8px; cursor: pointer; margin-bottom: 2px; }
        .position-sidebar-item:hover { background: rgba(30, 64, 175, 0.1); }
        .position-sidebar-item.active { background: rgba(30, 64, 175, 0.2); border-left: 3px solid #1E40AF; }
        .position-sidebar-icon { width: 32px; height: 32px; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 16px; }
        .position-sidebar-info { flex: 1; margin-left: 10px; }
        .position-sidebar-name { font-size: 13px; color: #e5e7eb; }
        .position-sidebar-meta { font-size: 10px; color: #6b7280; }
        .position-sidebar-score { font-size: 11px; font-weight: 600; }
        .position-sidebar-score.high { color: #22c55e; }
        .position-sidebar-score.medium { color: #f59e0b; }

        .sidebar-footer { padding: 16px; border-top: 1px solid #2a2a4a; }
        .sidebar-footer-title { font-size: 11px; font-weight: 600; color: #6b7280; text-transform: uppercase; margin-bottom: 8px; }
        .sidebar-footer-item { display: flex; align-items: center; gap: 8px; font-size: 12px; color: #9ca3af; margin-bottom: 6px; }
        .sidebar-footer-dot { width: 6px; height: 6px; border-radius: 50%; }
        .sidebar-footer-dot.blue { background: #3b82f6; }
        .sidebar-footer-dot.green { background: #22c55e; }

        /* Main Content */
        .main-content { flex: 1; overflow-y: auto; }

        .position-header { background: linear-gradient(90deg, rgba(30, 64, 175, 0.2), transparent); border-bottom: 1px solid #2a2a4a; padding: 24px; display: flex; align-items: center; justify-content: space-between; }
        .position-header-left { display: flex; align-items: center; gap: 16px; }
        .position-header-icon { width: 64px; height: 64px; border-radius: 16px; display: flex; align-items: center; justify-content: center; font-size: 32px; }
        .position-header-title { font-size: 24px; font-weight: 700; }
        .position-header-meta { font-size: 14px; color: #9ca3af; }
        .position-header-right { display: flex; align-items: center; gap: 20px; }

        .mode-toggle { display: flex; background: #2a2a4a; border-radius: 8px; padding: 4px; }
        .mode-btn { padding: 8px 16px; border: none; background: transparent; color: #9ca3af; font-size: 12px; font-weight: 600; border-radius: 6px; cursor: pointer; }
        .mode-btn.active { background: #22c55e; color: white; }
        .mode-btn.active.assist { background: #f59e0b; }

        .confidence-display { text-align: center; }
        .confidence-value { font-size: 32px; font-weight: 700; color: #22c55e; }
        .confidence-label { font-size: 11px; color: #6b7280; }

        .content-grid { display: grid; grid-template-columns: 2fr 1fr; gap: 24px; padding: 24px; }

        /* Functions Section */
        .section-title { font-size: 16px; font-weight: 600; margin-bottom: 16px; display: flex; align-items: center; gap: 8px; }
        .section-title-icon { color: #f97316; }

        .functions-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 16px; }
        .function-card { background: #1a1a2e; border: 1px solid #2a2a4a; border-radius: 12px; padding: 16px; cursor: pointer; transition: all 0.2s; }
        .function-card:hover { border-color: rgba(34, 197, 94, 0.5); }
        .function-card-header { display: flex; justify-content: space-between; margin-bottom: 12px; }
        .function-card-icon { font-size: 20px; }
        .function-card-score { font-size: 13px; font-weight: 700; color: #22c55e; }
        .function-card-score.medium { color: #f59e0b; }
        .function-card-title { font-size: 14px; font-weight: 600; margin-bottom: 4px; }
        .function-card-trigger { font-size: 11px; color: #6b7280; margin-bottom: 12px; }
        .function-card-btn { width: 100%; padding: 10px; border: none; border-radius: 8px; font-size: 13px; font-weight: 600; cursor: pointer; }
        .function-card-btn.run { background: #22c55e; color: white; }
        .function-card-btn.run:hover { background: #16a34a; }
        .function-card-btn.review { background: #f59e0b; color: white; }
        .function-card-btn.review:hover { background: #d97706; }

        /* Forms Section */
        .forms-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-top: 24px; }
        .form-card { background: #1a1a2e; border: 1px solid #2a2a4a; border-radius: 12px; padding: 16px; cursor: pointer; transition: all 0.2s; }
        .form-card:hover { border-color: rgba(37, 99, 235, 0.5); transform: translateY(-2px); }
        .form-card-header { display: flex; align-items: center; gap: 12px; margin-bottom: 8px; }
        .form-card-icon { font-size: 24px; }
        .form-card-title { font-size: 13px; font-weight: 600; }
        .form-card-autofill { font-size: 11px; color: #22c55e; }
        .form-card-autofill.medium { color: #f59e0b; }
        .form-card-actions { display: flex; gap: 8px; }
        .form-card-btn { flex: 1; padding: 8px; border: none; border-radius: 6px; font-size: 11px; font-weight: 600; cursor: pointer; }
        .form-card-btn.primary { background: #1E40AF; color: white; }
        .form-card-btn.primary:hover { background: #1e3a8a; }
        .form-card-btn.secondary { background: #374151; color: white; }
        .form-card-btn.secondary:hover { background: #4b5563; }
        .form-card-more { background: #1a1a2e; border: 1px dashed #3a3a5a; display: flex; flex-direction: column; align-items: center; justify-content: center; color: #6b7280; }

        /* Activity Section */
        .activity-section { margin-top: 24px; }
        .activity-list { background: #1a1a2e; border: 1px solid #2a2a4a; border-radius: 12px; overflow: hidden; }
        .activity-item { display: flex; align-items: center; gap: 16px; padding: 16px; border-bottom: 1px solid #2a2a4a; }
        .activity-item:last-child { border-bottom: none; }
        .activity-icon { width: 40px; height: 40px; border-radius: 10px; display: flex; align-items: center; justify-content: center; }
        .activity-icon.success { background: rgba(34, 197, 94, 0.2); color: #22c55e; }
        .activity-icon.info { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
        .activity-icon.warning { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
        .activity-content { flex: 1; }
        .activity-title { font-size: 14px; font-weight: 500; }
        .activity-meta { font-size: 12px; color: #6b7280; }
        .activity-time { font-size: 11px; color: #6b7280; }

        /* Right Panel */
        .right-panel { display: flex; flex-direction: column; gap: 24px; }

        /* Form Preview */
        .form-preview { background: white; border-radius: 12px; overflow: hidden; box-shadow: 0 10px 40px rgba(0,0,0,0.3); }
        .form-preview-header { background: #f3f4f6; padding: 8px 12px; display: flex; align-items: center; justify-content: space-between; border-bottom: 1px solid #e5e7eb; }
        .form-preview-dots { display: flex; gap: 6px; }
        .form-preview-dot { width: 10px; height: 10px; border-radius: 50%; }
        .form-preview-dot.red { background: #ef4444; }
        .form-preview-dot.yellow { background: #f59e0b; }
        .form-preview-dot.green { background: #22c55e; }
        .form-preview-title { font-size: 11px; color: #6b7280; }
        .form-preview-content { padding: 16px; color: #1f2937; font-size: 11px; }
        .form-preview-content h3 { font-size: 13px; font-weight: 700; text-align: center; margin-bottom: 12px; padding-bottom: 8px; border-bottom: 2px solid #1f2937; }
        .form-preview-row { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-bottom: 8px; }
        .form-preview-label { font-size: 9px; color: #6b7280; }
        .form-preview-value { font-weight: 600; color: #22c55e; }
        .form-preview-footer { background: #f9fafb; padding: 12px; display: flex; gap: 8px; border-top: 1px solid #e5e7eb; }
        .form-preview-btn { flex: 1; padding: 8px; border: none; border-radius: 6px; font-size: 11px; font-weight: 600; cursor: pointer; }
        .form-preview-btn.primary { background: #1E40AF; color: white; }
        .form-preview-btn.secondary { background: #e5e7eb; color: #374151; }

        /* AI Genie Panel */
        .genie-panel { background: linear-gradient(135deg, rgba(249, 115, 22, 0.1), rgba(30, 64, 175, 0.1)); border: 1px solid rgba(249, 115, 22, 0.3); border-radius: 12px; }
        .genie-header { padding: 16px; border-bottom: 1px solid #2a2a4a; display: flex; align-items: center; gap: 12px; }
        .genie-icon { width: 40px; height: 40px; background: linear-gradient(135deg, #f97316, #fbbf24); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 20px; }
        .genie-title { font-size: 14px; font-weight: 600; }
        .genie-status { font-size: 11px; color: #9ca3af; }
        .genie-content { padding: 16px; }
        .genie-suggestions-title { font-size: 11px; font-weight: 600; color: #f97316; margin-bottom: 8px; }
        .genie-suggestion { background: #2a2a4a; padding: 10px; border-radius: 8px; margin-bottom: 8px; cursor: pointer; }
        .genie-suggestion:hover { background: #3a3a5a; }
        .genie-suggestion-text { font-size: 12px; color: #e5e7eb; }
        .genie-suggestion-meta { font-size: 10px; color: #6b7280; }
        .genie-input { width: 100%; background: #2a2a4a; border: 1px solid #3a3a5a; border-radius: 8px; padding: 12px; color: white; font-size: 13px; margin-top: 12px; }
        .genie-input:focus { outline: none; border-color: #f97316; }

        /* Export Panel */
        .export-panel { background: #1a1a2e; border: 1px solid #2a2a4a; border-radius: 12px; padding: 16px; }
        .export-title { font-size: 14px; font-weight: 600; margin-bottom: 12px; }
        .export-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; }
        .export-btn { display: flex; flex-direction: column; align-items: center; gap: 4px; padding: 12px; background: #2a2a4a; border-radius: 8px; cursor: pointer; }
        .export-btn:hover { background: #3a3a5a; }
        .export-btn-icon { font-size: 20px; }
        .export-btn-text { font-size: 11px; color: #9ca3af; }
    </style>
</head>
<body>
    <!-- Top Navigation -->
    <nav class="main-nav">
        <div style="display: flex; align-items: center; gap: 32px;">
            <div class="nav-brand">
                <div class="nav-brand-icon">üè†</div>
                <span class="nav-brand-text">ROOFIO</span>
            </div>
            <div class="nav-links">
                <a href="{{ url_for('dashboard') }}" class="nav-link">Dashboard</a>
                <a href="{{ url_for('analysis') }}" class="nav-link">Analysis</a>
                <a href="{{ url_for('control_center') }}" class="nav-link active">Control</a>
                <a href="{{ url_for('digital_foreman') }}" class="nav-link">Foreman</a>
                <a href="{{ url_for('integrations') }}" class="nav-link">Integrations</a>
                <a href="{{ url_for('projects') }}" class="nav-link">Projects</a>
            </div>
        </div>
        <div class="nav-right">
            <select class="project-select">
                <option>JHU Sheridan Libraries</option>
                <option>UMass Amherst</option>
                <option>Boston Medical</option>
            </select>
            <button style="width: 40px; height: 40px; border-radius: 50%; background: #374151; border: none; cursor: pointer; font-size: 18px;">‚öôÔ∏è</button>
        </div>
    </nav>

    <div class="content-wrapper">
        <!-- Left Sidebar - AI Positions -->
        <aside class="positions-sidebar">
            <div class="sidebar-search" style="position: relative;">
                <span class="sidebar-search-icon">üîç</span>
                <input type="text" placeholder="Search forms..." id="positionSearch">
            </div>

            <div class="sidebar-stats">
                <div class="sidebar-stat">
                    <div class="sidebar-stat-value">11</div>
                    <div class="sidebar-stat-label">Full AI</div>
                </div>
                <div class="sidebar-stat warning">
                    <div class="sidebar-stat-value">2</div>
                    <div class="sidebar-stat-label">AI Assist</div>
                </div>
            </div>

            <div class="sidebar-content">
                <!-- Favorites -->
                <div class="sidebar-section-title">‚≠ê Favorites</div>
                <div class="sidebar-fav-item">üìù Daily Log</div>
                <div class="sidebar-fav-item">üí∞ Pay Application</div>
                <div class="sidebar-fav-item">‚õëÔ∏è JHA Form</div>

                <!-- Field Operations -->
                <div class="sidebar-section-title" style="margin-top: 16px;">‚ñº Field Operations</div>

                <div class="position-sidebar-item" onclick="selectPosition('superintendent')">
                    <div class="position-sidebar-icon" style="background: #ca8a04;">üë∑</div>
                    <div class="position-sidebar-info">
                        <div class="position-sidebar-name">Superintendent</div>
                        <div class="position-sidebar-meta">9 forms ‚Ä¢ AI Assist</div>
                    </div>
                    <span class="position-sidebar-score medium">89%</span>
                </div>

                <div class="position-sidebar-item" onclick="selectPosition('foreman')">
                    <div class="position-sidebar-icon" style="background: #2563eb;">üîß</div>
                    <div class="position-sidebar-info">
                        <div class="position-sidebar-name">Foreman</div>
                        <div class="position-sidebar-meta">7 forms ‚Ä¢ Full AI</div>
                    </div>
                    <span class="position-sidebar-score high">94%</span>
                </div>

                <div class="position-sidebar-item" onclick="selectPosition('qc')">
                    <div class="position-sidebar-icon" style="background: #22c55e;">üîç</div>
                    <div class="position-sidebar-info">
                        <div class="position-sidebar-name">QC Inspector</div>
                        <div class="position-sidebar-meta">10 forms ‚Ä¢ Full AI</div>
                    </div>
                    <span class="position-sidebar-score high">95%</span>
                </div>

                <div class="position-sidebar-item" onclick="selectPosition('safety')">
                    <div class="position-sidebar-icon" style="background: #dc2626;">‚õëÔ∏è</div>
                    <div class="position-sidebar-info">
                        <div class="position-sidebar-name">Safety Officer</div>
                        <div class="position-sidebar-meta">10 forms ‚Ä¢ Full AI</div>
                    </div>
                    <span class="position-sidebar-score high">98%</span>
                </div>

                <!-- Office Operations -->
                <div class="sidebar-section-title" style="margin-top: 16px;">‚ñº Office Operations</div>

                <div class="position-sidebar-item active" onclick="selectPosition('estimator')">
                    <div class="position-sidebar-icon" style="background: #7c3aed;">üìä</div>
                    <div class="position-sidebar-info">
                        <div class="position-sidebar-name" style="color: white; font-weight: 500;">Estimator</div>
                        <div class="position-sidebar-meta">10 forms ‚Ä¢ Full AI</div>
                    </div>
                    <span class="position-sidebar-score high">96%</span>
                </div>

                <div class="position-sidebar-item" onclick="selectPosition('pm')">
                    <div class="position-sidebar-icon" style="background: #6366f1;">üìã</div>
                    <div class="position-sidebar-info">
                        <div class="position-sidebar-name">Project Manager</div>
                        <div class="position-sidebar-meta">11 forms ‚Ä¢ AI Assist</div>
                    </div>
                    <span class="position-sidebar-score medium">91%</span>
                </div>

                <div class="position-sidebar-item" onclick="selectPosition('detailer')">
                    <div class="position-sidebar-icon" style="background: #06b6d4;">üìê</div>
                    <div class="position-sidebar-info">
                        <div class="position-sidebar-name">Detailer</div>
                        <div class="position-sidebar-meta">7 forms ‚Ä¢ Full AI</div>
                    </div>
                    <span class="position-sidebar-score high">93%</span>
                </div>

                <div class="position-sidebar-item" onclick="selectPosition('accounts')">
                    <div class="position-sidebar-icon" style="background: #10b981;">üí∞</div>
                    <div class="position-sidebar-info">
                        <div class="position-sidebar-name">Accounts</div>
                        <div class="position-sidebar-meta">11 forms ‚Ä¢ Full AI</div>
                    </div>
                    <span class="position-sidebar-score high">99%</span>
                </div>

                <!-- Admin & Sales -->
                <div class="sidebar-section-title" style="margin-top: 16px;">‚ñ∂ Admin & Sales</div>
            </div>

            <div class="sidebar-footer">
                <div class="sidebar-footer-title">‚ö° Live Activity</div>
                <div class="sidebar-footer-item">
                    <span class="sidebar-footer-dot blue"></span>
                    Weather: 52¬∞F, Clear
                </div>
                <div class="sidebar-footer-item">
                    <span class="sidebar-footer-dot green"></span>
                    Pay App submitted: $47.5k
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Position Header -->
            <div class="position-header">
                <div class="position-header-left">
                    <div class="position-header-icon" style="background: #7c3aed;">üìä</div>
                    <div>
                        <h1 class="position-header-title">AI Estimator</h1>
                        <p class="position-header-meta">10 forms ‚Ä¢ 4 functions ‚Ä¢ Full AI Mode</p>
                    </div>
                </div>
                <div class="position-header-right">
                    <div class="mode-toggle">
                        <button class="mode-btn">OFF</button>
                        <button class="mode-btn">ASSIST</button>
                        <button class="mode-btn active">FULL AI</button>
                    </div>
                    <div class="confidence-display">
                        <div class="confidence-value">96%</div>
                        <div class="confidence-label">Confidence</div>
                    </div>
                </div>
            </div>

            <div class="content-grid">
                <div>
                    <!-- AI Functions -->
                    <div class="section-title"><span class="section-title-icon">‚ö°</span> AI Functions</div>
                    <div class="functions-grid">
                        <div class="function-card">
                            <div class="function-card-header">
                                <span class="function-card-icon">üìÑ</span>
                                <span class="function-card-score">98%</span>
                            </div>
                            <div class="function-card-title">Parse RFP/ITB</div>
                            <div class="function-card-trigger">Trigger: Document uploaded</div>
                            <button class="function-card-btn run">Run</button>
                        </div>

                        <div class="function-card">
                            <div class="function-card-header">
                                <span class="function-card-icon">üìê</span>
                                <span class="function-card-score">94%</span>
                            </div>
                            <div class="function-card-title">Generate Takeoff</div>
                            <div class="function-card-trigger">Trigger: Drawings received</div>
                            <button class="function-card-btn run">Run</button>
                        </div>

                        <div class="function-card">
                            <div class="function-card-header">
                                <span class="function-card-icon">üíµ</span>
                                <span class="function-card-score medium">92%</span>
                            </div>
                            <div class="function-card-title">Price Labor</div>
                            <div class="function-card-trigger">Trigger: Takeoff complete</div>
                            <button class="function-card-btn review">Review</button>
                        </div>

                        <div class="function-card">
                            <div class="function-card-header">
                                <span class="function-card-icon">üìã</span>
                                <span class="function-card-score">97%</span>
                            </div>
                            <div class="function-card-title">Build Bid Proposal</div>
                            <div class="function-card-trigger">Trigger: All pricing done</div>
                            <button class="function-card-btn run">Run</button>
                        </div>
                    </div>

                    <!-- Quick Forms -->
                    <div class="section-title" style="margin-top: 24px;">
                        <span style="color: #1E40AF;">üìã</span> Quick Forms
                        <span style="font-size: 11px; background: #374151; padding: 2px 8px; border-radius: 99px; font-weight: 400;">10 total</span>
                    </div>
                    <div class="forms-grid">
                        <div class="form-card">
                            <div class="form-card-header">
                                <span class="form-card-icon">üìÑ</span>
                                <div>
                                    <div class="form-card-title">Bid Proposal</div>
                                    <div class="form-card-autofill">85% auto-fill</div>
                                </div>
                            </div>
                            <div class="form-card-actions">
                                <button class="form-card-btn primary">Open</button>
                                <button class="form-card-btn secondary">‚ö°</button>
                            </div>
                        </div>

                        <div class="form-card">
                            <div class="form-card-header">
                                <span class="form-card-icon">üìù</span>
                                <div>
                                    <div class="form-card-title">Scope of Work</div>
                                    <div class="form-card-autofill">80% auto-fill</div>
                                </div>
                            </div>
                            <div class="form-card-actions">
                                <button class="form-card-btn primary">Open</button>
                                <button class="form-card-btn secondary">‚ö°</button>
                            </div>
                        </div>

                        <div class="form-card">
                            <div class="form-card-header">
                                <span class="form-card-icon">üì¶</span>
                                <div>
                                    <div class="form-card-title">Material Takeoff</div>
                                    <div class="form-card-autofill medium">60% auto-fill</div>
                                </div>
                            </div>
                            <div class="form-card-actions">
                                <button class="form-card-btn primary">Open</button>
                                <button class="form-card-btn secondary">‚ö°</button>
                            </div>
                        </div>

                        <div class="form-card">
                            <div class="form-card-header">
                                <span class="form-card-icon">üí≤</span>
                                <div>
                                    <div class="form-card-title">Unit Price Schedule</div>
                                    <div class="form-card-autofill">85% auto-fill</div>
                                </div>
                            </div>
                            <div class="form-card-actions">
                                <button class="form-card-btn primary">Open</button>
                                <button class="form-card-btn secondary">‚ö°</button>
                            </div>
                        </div>

                        <div class="form-card">
                            <div class="form-card-header">
                                <span class="form-card-icon">üìä</span>
                                <div>
                                    <div class="form-card-title">Sub Bid Tab</div>
                                    <div class="form-card-autofill medium">50% auto-fill</div>
                                </div>
                            </div>
                            <div class="form-card-actions">
                                <button class="form-card-btn primary">Open</button>
                                <button class="form-card-btn secondary">‚ö°</button>
                            </div>
                        </div>

                        <div class="form-card form-card-more">
                            <div style="font-size: 24px;">+5</div>
                            <div style="font-size: 11px;">more forms</div>
                        </div>
                    </div>

                    <!-- Recent Activity -->
                    <div class="activity-section">
                        <div class="section-title"><span style="color: #9ca3af;">üìà</span> Recent Activity</div>
                        <div class="activity-list">
                            <div class="activity-item">
                                <div class="activity-icon success">‚úì</div>
                                <div class="activity-content">
                                    <div class="activity-title">Bid Proposal generated</div>
                                    <div class="activity-meta">JHU Sheridan Libraries ‚Ä¢ $1,247,500</div>
                                </div>
                                <span class="activity-time">2 min ago</span>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon info">üìê</div>
                                <div class="activity-content">
                                    <div class="activity-title">Takeoff completed</div>
                                    <div class="activity-meta">UMass Amherst ‚Ä¢ 47,500 SF</div>
                                </div>
                                <span class="activity-time">1 hour ago</span>
                            </div>
                            <div class="activity-item">
                                <div class="activity-icon warning">‚ö†Ô∏è</div>
                                <div class="activity-content">
                                    <div class="activity-title">Labor pricing needs review</div>
                                    <div class="activity-meta">Boston Medical ‚Ä¢ 92% confidence</div>
                                </div>
                                <span class="activity-time">3 hours ago</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Right Panel -->
                <div class="right-panel">
                    <!-- Form Preview -->
                    <div class="form-preview">
                        <div class="form-preview-header">
                            <div class="form-preview-dots">
                                <span class="form-preview-dot red"></span>
                                <span class="form-preview-dot yellow"></span>
                                <span class="form-preview-dot green"></span>
                            </div>
                            <span class="form-preview-title">Form Preview</span>
                        </div>
                        <div class="form-preview-content">
                            <h3>BID PROPOSAL</h3>
                            <div class="form-preview-row">
                                <div>
                                    <div class="form-preview-label">TO:</div>
                                    <div class="form-preview-value">Johns Hopkins University ‚úì</div>
                                </div>
                                <div>
                                    <div class="form-preview-label">DATE:</div>
                                    <div class="form-preview-value">12/14/2025 ‚úì</div>
                                </div>
                            </div>
                            <div style="margin-bottom: 12px;">
                                <div class="form-preview-label">PROJECT:</div>
                                <div class="form-preview-value">JHU Sheridan Libraries ‚úì</div>
                            </div>
                            <div style="border-top: 1px solid #e5e7eb; padding-top: 8px;">
                                <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                    <span>Base Bid:</span>
                                    <span class="form-preview-value" style="font-weight: 700;">$1,247,500 ‚úì</span>
                                </div>
                                <div style="display: flex; justify-content: space-between;">
                                    <span>Alt 1 - Extended Warranty:</span>
                                    <span class="form-preview-value">+$45,000 ‚úì</span>
                                </div>
                            </div>
                            <div style="margin-top: 12px; padding-top: 8px; border-top: 1px dashed #d1d5db; text-align: center; color: #22c55e; font-size: 10px; font-weight: 500;">
                                ‚úì 85% Auto-filled from project data
                            </div>
                        </div>
                        <div class="form-preview-footer">
                            <button class="form-preview-btn primary">‚úèÔ∏è Edit</button>
                            <button class="form-preview-btn secondary">üìÑ PDF</button>
                            <button class="form-preview-btn secondary">üìß Send</button>
                        </div>
                    </div>

                    <!-- AI Genie Panel -->
                    <div class="genie-panel genie-glow">
                        <div class="genie-header">
                            <div class="genie-icon">üßû</div>
                            <div>
                                <div class="genie-title">Form AI Genie</div>
                                <div class="genie-status">Analyzing forms...</div>
                            </div>
                        </div>
                        <div class="genie-content">
                            <div class="genie-suggestions-title">üí° Suggestions</div>
                            <div class="genie-suggestion">
                                <div class="genie-suggestion-text">Optimize Bid Proposal</div>
                                <div class="genie-suggestion-meta">3 fields can be auto-filled</div>
                            </div>
                            <div class="genie-suggestion">
                                <div class="genie-suggestion-text">Create mobile version</div>
                                <div class="genie-suggestion-meta">Field crews prefer mobile</div>
                            </div>
                            <input type="text" class="genie-input" placeholder="Ask Genie anything...">
                        </div>
                    </div>

                    <!-- Export Options -->
                    <div class="export-panel">
                        <div class="export-title">Export Options</div>
                        <div class="export-grid">
                            <div class="export-btn">
                                <span class="export-btn-icon">üìÑ</span>
                                <span class="export-btn-text">PDF</span>
                            </div>
                            <div class="export-btn">
                                <span class="export-btn-icon">üìù</span>
                                <span class="export-btn-text">Word</span>
                            </div>
                            <div class="export-btn">
                                <span class="export-btn-icon">üìä</span>
                                <span class="export-btn-text">Excel</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        function selectPosition(positionId) {
            // Remove active class from all items
            document.querySelectorAll('.position-sidebar-item').forEach(item => {
                item.classList.remove('active');
            });
            // Add active class to clicked item
            event.currentTarget.classList.add('active');

            // In production, this would load the position's data
            console.log('Selected position:', positionId);
        }

        // Search functionality
        document.getElementById('positionSearch').addEventListener('input', function(e) {
            const query = e.target.value.toLowerCase();
            document.querySelectorAll('.position-sidebar-item').forEach(item => {
                const name = item.querySelector('.position-sidebar-name').textContent.toLowerCase();
                item.style.display = name.includes(query) ? 'flex' : 'none';
            });
        });
    </script>
</body>
</html>
